<h1 id="human-readable-duration-format"><a aria-hidden="true" class="anchor-heading icon-link" href="#human-readable-duration-format"></a>Human readable duration format</h1>
<h3 id="javascript"><a aria-hidden="true" class="anchor-heading icon-link" href="#javascript"></a>JavaScript</h3>
<pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">formatDuration</span> <span class="token punctuation">(</span><span class="token parameter">seconds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword control-flow">return</span> <span class="token string">'now'</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> years <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> days <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hours <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> minutes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">>=</span> <span class="token number">31536000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    years <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">31536000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">31536000</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">>=</span> <span class="token number">86400</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    days <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">86400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">86400</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">>=</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    hours <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">3600</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">>=</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    minutes <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> numMetrics <span class="token operator">=</span> <span class="token punctuation">[</span>years<span class="token punctuation">,</span> days<span class="token punctuation">,</span> hours<span class="token punctuation">,</span> minutes<span class="token punctuation">,</span> seconds<span class="token punctuation">]</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow">return</span> acc <span class="token operator">+</span> <span class="token punctuation">(</span>val <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>years <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> years <span class="token operator">+</span> <span class="token string">" year"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>years <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>days <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> days <span class="token operator">+</span> <span class="token string">" day"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>days <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>hours <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> hours <span class="token operator">+</span> <span class="token string">" hour"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>hours <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>minutes <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> minutes <span class="token operator">+</span> <span class="token string">" minute"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>minutes <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>numMetrics <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>seconds <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> seconds <span class="token operator">+</span> <span class="token string">" second"</span> <span class="token operator">+</span> <span class="token punctuation">(</span>seconds <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword control-flow">return</span> result<span class="token punctuation">.</span><span class="token method function property-access">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="coffeescript"><a aria-hidden="true" class="anchor-heading icon-link" href="#coffeescript"></a>CoffeeScript</h3>
<pre class="language-coffee"><code class="language-coffee">formatDuration <span class="token operator">=</span> <span class="token punctuation">(</span>seconds<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
  <span class="token keyword">if</span> seconds <span class="token operator">==</span> <span class="token number">0</span>
    <span class="token keyword">return</span> <span class="token string">'now'</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>years<span class="token punctuation">,</span> days<span class="token punctuation">,</span> hours<span class="token punctuation">,</span> minutes<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>

  <span class="token keyword">if</span> seconds <span class="token operator">>=</span> <span class="token number">31536000</span>
    years <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">31536000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">31536000</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> seconds <span class="token operator">>=</span> <span class="token number">86400</span>
    days <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">86400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">86400</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> seconds <span class="token operator">>=</span> <span class="token number">3600</span>
    hours <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">3600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">3600</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> seconds <span class="token operator">>=</span> <span class="token number">60</span>
    minutes <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>seconds <span class="token operator">/</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    seconds <span class="token operator">=</span> seconds <span class="token operator">%</span> <span class="token number">60</span><span class="token punctuation">;</span>

  <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript">numMetrics <span class="token operator">=</span> <span class="token punctuation">[</span>years<span class="token punctuation">,</span> days<span class="token punctuation">,</span> hours<span class="token punctuation">,</span> minutes<span class="token punctuation">,</span> seconds<span class="token punctuation">]</span>
    <span class="token punctuation">.</span><span class="token method function property-access">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword control-flow">return</span> acc <span class="token operator">+</span> <span class="token punctuation">(</span>val <span class="token operator">!=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token delimiter punctuation">`</span></span>

  result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> years <span class="token operator">!=</span> <span class="token number">0</span>
    result <span class="token operator">+=</span> years <span class="token operator">+</span> <span class="token string">" year"</span> <span class="token operator">+</span> <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript"><span class="token punctuation">(</span>years <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">==</span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">></span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> days <span class="token operator">!=</span> <span class="token number">0</span>
    result <span class="token operator">+=</span> days <span class="token operator">+</span> <span class="token string">" day"</span> <span class="token operator">+</span> <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript"><span class="token punctuation">(</span>days <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">==</span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">></span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> hours <span class="token operator">!=</span> <span class="token number">0</span>
    result <span class="token operator">+=</span> hours <span class="token operator">+</span> <span class="token string">" hour"</span> <span class="token operator">+</span> <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript"><span class="token punctuation">(</span>hours <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">==</span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">></span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> minutes <span class="token operator">!=</span> <span class="token number">0</span>
    result <span class="token operator">+=</span> minutes <span class="token operator">+</span> <span class="token string">" minute"</span> <span class="token operator">+</span> <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript"><span class="token punctuation">(</span>minutes <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">`</span></span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">==</span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">" and "</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> numMetrics <span class="token operator">></span> <span class="token number">2</span>
      result <span class="token operator">+=</span> <span class="token string">", "</span><span class="token punctuation">;</span>
    numMetrics<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> seconds <span class="token operator">!=</span> <span class="token number">0</span>
    result <span class="token operator">+=</span> seconds <span class="token operator">+</span> <span class="token string">" second"</span> <span class="token operator">+</span> <span class="token inline-javascript"><span class="token delimiter punctuation">`</span><span class="token script language-javascript"><span class="token punctuation">(</span>seconds <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">'s'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span></span><span class="token delimiter punctuation">`</span></span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>