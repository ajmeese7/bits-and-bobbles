<h1 id="papers-please"><a aria-hidden="true" class="anchor-heading icon-link" href="#papers-please"></a>Papers, Please</h1>
<h3 id="python"><a aria-hidden="true" class="anchor-heading icon-link" href="#python"></a>Python</h3>
<pre class="language-py"><code class="language-py"><span class="token keyword">import</span> re
<span class="token keyword">from</span> datetime <span class="token keyword">import</span> datetime

<span class="token keyword">class</span> <span class="token class-name">Inspector</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>allowed_countries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>requirements <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>document_expiration_date <span class="token operator">=</span> datetime<span class="token punctuation">(</span>year<span class="token operator">=</span><span class="token number">1982</span><span class="token punctuation">,</span> month<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">,</span> day<span class="token operator">=</span><span class="token number">22</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>criminal <span class="token operator">=</span> <span class="token string">""</span>
        self<span class="token punctuation">.</span>current_entrant_info <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>


    <span class="token keyword">def</span> <span class="token function">receive_bulletin</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment"># Update the allowed countries list with new countries</span>
        allowed_countries <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"Allow citizens of (.*)"</span><span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>allowed_countries<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">,</span> allowed_countries<span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token comment"># Update the allowed countries list by removing denied countries</span>
        denied_countries <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"Deny citizens of (.*)"</span><span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>allowed_countries <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>
          <span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> denied_countries<span class="token punctuation">,</span> self<span class="token punctuation">.</span>allowed_countries<span class="token punctuation">)</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># Update the list of requirements</span>
        new_requirements <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">"(.*)(?&#x3C;!no longer) require (.*)"</span><span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>requirements<span class="token punctuation">.</span>extend<span class="token punctuation">(</span>self<span class="token punctuation">.</span>createRequirementList<span class="token punctuation">(</span>new_requirements<span class="token punctuation">)</span><span class="token punctuation">)</span>
        remove_requirements <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span><span class="token string">"(.*) no longer require (.*)"</span><span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>requirements <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>
          <span class="token builtin">filter</span><span class="token punctuation">(</span>
            <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>createRequirementList<span class="token punctuation">(</span>remove_requirements<span class="token punctuation">)</span><span class="token punctuation">,</span>
            self<span class="token punctuation">.</span>requirements
          <span class="token punctuation">)</span>
        <span class="token punctuation">)</span>

        <span class="token comment"># Updates the criminal of the day</span>
        criminal <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"Wanted by the State: (.*)"</span><span class="token punctuation">,</span> bulletin<span class="token punctuation">)</span>
        <span class="token keyword">if</span> criminal <span class="token operator">!=</span> <span class="token string">""</span><span class="token punctuation">:</span>
            names <span class="token operator">=</span> criminal<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span>
            criminal <span class="token operator">=</span> names<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> names<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>criminal <span class="token operator">=</span> criminal


    <span class="token keyword">def</span> <span class="token function">inspect</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> documents<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">##</span>
        <span class="token comment"># Create objects out of the data from the available documents</span>
        <span class="token comment">##</span>
        vaccination_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"certificate_of_vaccination"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        vaccination_card <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>vaccination_info<span class="token punctuation">)</span>

        passport_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"passport"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        passport <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>passport_info<span class="token punctuation">)</span>

        access_permit_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"access_permit"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        access_permit <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>access_permit_info<span class="token punctuation">)</span>

        grant_of_asylum_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"grant_of_asylum"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        grant_of_asylum <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>grant_of_asylum_info<span class="token punctuation">)</span>

        diplomatic_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"diplomatic_authorization"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        diplomatic_authorization <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>diplomatic_info<span class="token punctuation">)</span>

        work_pass_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"work_pass"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        work_pass <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>work_pass_info<span class="token punctuation">)</span>

        id_card_info <span class="token operator">=</span> documents<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"ID_card"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span>
        id_card <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentData<span class="token punctuation">(</span>id_card_info<span class="token punctuation">)</span>

        <span class="token comment">##</span>
        <span class="token comment"># Add entrant information for use across functions</span>
        <span class="token comment">##</span>
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"vaccination_card"</span><span class="token punctuation">]</span> <span class="token operator">=</span> vaccination_card
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"passport"</span><span class="token punctuation">]</span> <span class="token operator">=</span> passport
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"grant_of_asylum"</span><span class="token punctuation">]</span> <span class="token operator">=</span> grant_of_asylum
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"access_permit"</span><span class="token punctuation">]</span> <span class="token operator">=</span> access_permit
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"diplomatic_authorization"</span><span class="token punctuation">]</span> <span class="token operator">=</span> diplomatic_authorization
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"work_pass"</span><span class="token punctuation">]</span> <span class="token operator">=</span> work_pass
        self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"ID_card"</span><span class="token punctuation">]</span> <span class="token operator">=</span> id_card

        <span class="token comment">##</span>
        <span class="token comment"># Entrant is detained</span>
        <span class="token comment">##</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          <span class="token punctuation">(</span>passport <span class="token keyword">and</span> self<span class="token punctuation">.</span>criminal <span class="token operator">==</span> passport<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">or</span>
          <span class="token punctuation">(</span>access_permit <span class="token keyword">and</span> self<span class="token punctuation">.</span>criminal <span class="token operator">==</span> access_permit<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">or</span>
          <span class="token punctuation">(</span>grant_of_asylum <span class="token keyword">and</span> self<span class="token punctuation">.</span>criminal <span class="token operator">==</span> grant_of_asylum<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Detainment: Entrant is a wanted criminal."</span>

        id_list <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentValues<span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">all</span><span class="token punctuation">(</span>x <span class="token operator">==</span> id_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> id_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Detainment: ID number mismatch."</span>

        nation_list <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentValues<span class="token punctuation">(</span><span class="token string">"nation"</span><span class="token punctuation">)</span>
        nation <span class="token operator">=</span> nation_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nation_list<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token string">""</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">all</span><span class="token punctuation">(</span>x <span class="token operator">==</span> nation_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> nation_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Detainment: nationality mismatch."</span>

        dob_list <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentValues<span class="token punctuation">(</span><span class="token string">"dob"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">all</span><span class="token punctuation">(</span>x <span class="token operator">==</span> dob_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> dob_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Detainment: date of birth mismatch."</span>

        name_list <span class="token operator">=</span> self<span class="token punctuation">.</span>getDocumentValues<span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">all</span><span class="token punctuation">(</span>x <span class="token operator">==</span> name_list<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> name_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Detainment: name mismatch."</span>

        <span class="token comment">##</span>
        <span class="token comment"># Entrant is denied for an invalid document</span>
        <span class="token comment">##</span>
        diplomatic_nations <span class="token operator">=</span> diplomatic_authorization<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"access"</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> diplomatic_nations <span class="token keyword">and</span> <span class="token string">"Arstotzka"</span> <span class="token keyword">not</span> <span class="token keyword">in</span> diplomatic_nations<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Entry denied: invalid diplomatic authorization."</span>

        <span class="token comment">##</span>
        <span class="token comment"># Entrant is denied from the country for an expired document</span>
        <span class="token comment">##</span>
        <span class="token keyword">if</span> passport<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"expiration"</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> self<span class="token punctuation">.</span>document_expiration_date<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Entry denied: passport expired."</span>
        <span class="token keyword">elif</span> grant_of_asylum<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"expiration"</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> self<span class="token punctuation">.</span>document_expiration_date<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Entry denied: grant of asylum expired."</span>
        <span class="token keyword">elif</span> access_permit<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"expiration"</span><span class="token punctuation">,</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> self<span class="token punctuation">.</span>document_expiration_date<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Entry denied: access permit expired."</span>

        <span class="token comment">##</span>
        <span class="token comment"># Entrant is a member of a denied country</span>
        <span class="token comment">##</span>
        <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nation<span class="token punctuation">)</span> <span class="token keyword">and</span> nation <span class="token keyword">not</span> <span class="token keyword">in</span> self<span class="token punctuation">.</span>allowed_countries<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Entry denied: citizen of banned nation."</span>

        <span class="token comment">##</span>
        <span class="token comment"># Assign the entrant groups based on their provided documentation</span>
        <span class="token comment">##</span>
        groups <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"Entrants"</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> nation <span class="token operator">==</span> <span class="token string">"Arstotzka"</span><span class="token punctuation">:</span>
            groups<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"Citizens of Arstotzka"</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            groups<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"Foreigners"</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>nation<span class="token punctuation">)</span><span class="token punctuation">:</span> groups<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"Citizens of "</span> <span class="token operator">+</span> nation<span class="token punctuation">)</span>
        <span class="token keyword">if</span> access_permit<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"purpose"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"WORK"</span><span class="token punctuation">:</span>
            groups<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token string">"Workers"</span><span class="token punctuation">)</span>

        <span class="token comment">##</span>
        <span class="token comment"># Entrant is denied from the country for not meeting bulletin requirements</span>
        <span class="token comment">##</span>
        <span class="token keyword">for</span> requirement <span class="token keyword">in</span> self<span class="token punctuation">.</span>requirements<span class="token punctuation">:</span>
            <span class="token keyword">if</span> requirement<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">in</span> groups<span class="token punctuation">:</span>
                requirement_met <span class="token operator">=</span> self<span class="token punctuation">.</span>checkForRequirement<span class="token punctuation">(</span>requirement<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">if</span> requirement_met <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                    <span class="token keyword">return</span> <span class="token string">"Entry denied: "</span> <span class="token operator">+</span> requirement_met

        <span class="token comment"># Entrant is allowed into the country</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nation <span class="token operator">==</span> <span class="token string">"Arstotzka"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Glory to Arstotzka."</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token string">"Cause no trouble."</span>


    <span class="token keyword">def</span> <span class="token function">getDocumentValues</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">:</span>
        values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"vaccination_card"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"passport"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"grant_of_asylum"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"access_permit"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"diplomatic_authorization"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"work_pass"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        values<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"ID_card"</span><span class="token punctuation">]</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token boolean">None</span><span class="token punctuation">,</span> values<span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token keyword">def</span> <span class="token function">createRequirementList</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> requirement_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> requirement <span class="token keyword">in</span> requirement_list<span class="token punctuation">:</span>
            citizenship_requirement <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"Citizens of (.*)"</span><span class="token punctuation">,</span> requirement<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> citizenship_requirement<span class="token punctuation">:</span>
                requirement_list<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>requirement<span class="token punctuation">)</span>
                countries <span class="token operator">=</span> requirement<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span>
                requirement_list<span class="token punctuation">.</span>extend<span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span>
                  <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token string">"Citizens of "</span> <span class="token operator">+</span> x <span class="token keyword">if</span> <span class="token keyword">not</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">"Citizens of "</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token keyword">else</span> x<span class="token punctuation">,</span> requirement<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  countries
                <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

        <span class="token keyword">return</span> requirement_list


    <span class="token keyword">def</span> <span class="token function">checkForRequirement</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> requirement<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token string">"vaccination"</span> <span class="token keyword">in</span> requirement<span class="token punctuation">:</span>
            vaccination_card <span class="token operator">=</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"vaccination_card"</span><span class="token punctuation">]</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> vaccination_card<span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required certificate of vaccination."</span>
            vaccine <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">" vaccination"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> requirement<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> vaccination_card <span class="token keyword">or</span> <span class="token keyword">not</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>vaccine<span class="token punctuation">,</span> vaccination_card<span class="token punctuation">[</span><span class="token string">"vaccines"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required vaccination."</span>
        <span class="token keyword">elif</span> <span class="token string">"passport"</span> <span class="token keyword">in</span> requirement<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"passport"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required passport."</span>
        <span class="token keyword">elif</span> <span class="token string">"access permit"</span> <span class="token keyword">in</span> requirement<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>
              <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"access_permit"</span><span class="token punctuation">]</span> <span class="token keyword">and</span>
              <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"grant_of_asylum"</span><span class="token punctuation">]</span> <span class="token keyword">and</span>
              <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"diplomatic_authorization"</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required access permit."</span>
        <span class="token keyword">elif</span> <span class="token string">"work pass"</span> <span class="token keyword">in</span> requirement<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"work_pass"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required work pass."</span>
        <span class="token keyword">elif</span> <span class="token string">"ID card"</span> <span class="token keyword">in</span> requirement<span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>current_entrant_info<span class="token punctuation">[</span><span class="token string">"ID_card"</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                <span class="token keyword">return</span> <span class="token string">"missing required ID card."</span>

        <span class="token keyword">return</span> <span class="token boolean">True</span>


    <span class="token keyword">def</span> <span class="token function">getDocumentData</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> doc<span class="token punctuation">)</span><span class="token punctuation">:</span>
        docData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token keyword">for</span> line <span class="token keyword">in</span> doc<span class="token punctuation">.</span>splitlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> <span class="token string">"DOB: "</span> <span class="token keyword">in</span> line<span class="token punctuation">:</span>
                dob <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"DOB: (.*)"</span><span class="token punctuation">,</span> doc<span class="token punctuation">)</span>
                dob_parts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\."</span><span class="token punctuation">,</span> dob<span class="token punctuation">)</span><span class="token punctuation">]</span>
                docData<span class="token punctuation">[</span><span class="token string">"dob"</span><span class="token punctuation">]</span> <span class="token operator">=</span> datetime<span class="token punctuation">(</span>year<span class="token operator">=</span>dob_parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> month<span class="token operator">=</span>dob_parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> day<span class="token operator">=</span>dob_parts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">elif</span> <span class="token string">"EXP: "</span> <span class="token keyword">in</span> line<span class="token punctuation">:</span>
                expiration <span class="token operator">=</span> self<span class="token punctuation">.</span>getRegex<span class="token punctuation">(</span><span class="token string">"EXP: (.*)"</span><span class="token punctuation">,</span> doc<span class="token punctuation">)</span>
                expiration_parts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> re<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"\."</span><span class="token punctuation">,</span> expiration<span class="token punctuation">)</span><span class="token punctuation">]</span>
                docData<span class="token punctuation">[</span><span class="token string">"expiration"</span><span class="token punctuation">]</span> <span class="token operator">=</span> datetime<span class="token punctuation">(</span>year<span class="token operator">=</span>expiration_parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> month<span class="token operator">=</span>expiration_parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> day<span class="token operator">=</span>expiration_parts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                key<span class="token punctuation">,</span> value <span class="token operator">=</span> line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">": "</span><span class="token punctuation">)</span>
                key <span class="token operator">=</span> re<span class="token punctuation">.</span>sub<span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> key<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                docData<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value

        <span class="token keyword">return</span> docData


    <span class="token keyword">def</span> <span class="token function">getRegex</span><span class="token punctuation">(</span>_self<span class="token punctuation">,</span> regex<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">:</span>
        regex <span class="token operator">=</span> re<span class="token punctuation">.</span>search<span class="token punctuation">(</span>regex<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
        <span class="token keyword">return</span> regex<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">if</span> regex <span class="token keyword">else</span> <span class="token string">""</span>
</code></pre>
<hr>
<h2 id="tags"><a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a>Tags</h2>
<ol>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">python (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">3-kyu (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">codewars (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">answer (Private)</a></li>
</ol>